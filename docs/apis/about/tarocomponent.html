<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Taro.Component · Taro</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="`Taro.Component` 是一个抽象基础类，因此直接引用 `Taro.Component` 几乎没意义。相反，你通常会继承自它，并至少定义一个 `render()` 方法。"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Taro.Component · Taro"/><meta property="og:type" content="website"/><meta property="og:url" content="https://taro.jd.com/taro/index.html"/><meta property="og:description" content="`Taro.Component` 是一个抽象基础类，因此直接引用 `Taro.Component` 几乎没意义。相反，你通常会继承自它，并至少定义一个 `render()` 方法。"/><meta property="og:image" content="https://taro.jd.com/taro/img/logo-taro.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://taro.jd.com/taro/img/logo-taro.png"/><link rel="shortcut icon" href="/taro/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow-night.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://jdc.jd.com/demo/talenttest/js/url.js"></script><script type="text/javascript" src="https://storage.jd.com/taro-resource/tongji.js" async=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/taro/js/scrollSpy.js"></script><link rel="stylesheet" href="/taro/css/prism.css"/><link rel="stylesheet" href="/taro/css/main.css"/><script src="/taro/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/taro/"><img class="logo" src="/taro/img/logo-taro.png" alt="Taro"/><h2 class="headerTitleWithLogo">Taro</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/taro/docs/README.html" target="_self">文档</a></li><li class=""><a href="/taro/docs/components-desc.html" target="_self">组件库</a></li><li class="siteNavGroupActive"><a href="/taro/docs/apis/about/desc.html" target="_self">API</a></li><li class=""><a href="https://github.com/NervJS/taro" target="_self">GitHub</a></li><li class=""><a target="_self">|</a></li><li class=""><a href="https://taro-ui.jd.com" target="_self">Taro-UI</a></li><li class=""><a href="https://taro-ext.jd.com" target="_self">物料市场</a></li><li class=""><a href="https://taro-club.jd.com" target="_self">论坛</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>关于API</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">关于API<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/apis/about/desc.html">API 说明</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/taro/docs/apis/about/tarocomponent.html">Taro.Component</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/about/env.html">环境判断</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/about/events.html">消息机制</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">设备<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">加速度计</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/accelerometer/startAccelerometer.html">startAccelerometer</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/accelerometer/stopAccelerometer.html">stopAccelerometer</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/accelerometer/onAccelerometerChange.html">onAccelerometerChange</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">设备方向</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/deviceMotion/startDeviceMotionListening.html">startDeviceMotionListening</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/deviceMotion/stopDeviceMotionListening.html">stopDeviceMotionListening</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/deviceMotion/onDeviceMotionChange.html">onDeviceMotionChange</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">蓝牙</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/bluetooth/closeBluetoothAdapter.html">closeBluetoothAdapter</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/bluetooth/getBluetoothAdapterState.html">getBluetoothAdapterState</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/bluetooth/getBluetoothDevices.html">getBluetoothDevices</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/bluetooth/getConnectedBluetoothDevices.html">getConnectedBluetoothDevices</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/bluetooth/onBluetoothAdapterStateChange.html">onBluetoothAdapterStateChange</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/bluetooth/onBluetoothDeviceFound.html">onBluetoothDeviceFound</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/bluetooth/openBluetoothAdapter.html">openBluetoothAdapter</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/bluetooth/startBluetoothDevicesDiscovery.html">startBluetoothDevicesDiscovery</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/bluetooth/stopBluetoothDevicesDiscovery.html">stopBluetoothDevicesDiscovery</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">低功耗蓝牙</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ble/closeBLEConnection.html">closeBLEConnection</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ble/createBLEConnection.html">createBLEConnection</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ble/getBLEDeviceCharacteristics.html">getBLEDeviceCharacteristics</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ble/getBLEDeviceServices.html">getBLEDeviceServices</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ble/notifyBLECharacteristicValueChange.html">notifyBLECharacteristicValueChange</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ble/onBLECharacteristicValueChange.html">onBLECharacteristicValueChange</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ble/onBLEConnectionStateChange.html">onBLEConnectionStateChange</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ble/readBLECharacteristicValue.html">readBLECharacteristicValue</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ble/writeBLECharacteristicValue.html">writeBLECharacteristicValue</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">亮度</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/brightness/getScreenBrightness.html">getScreenBrightness</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/brightness/setKeepScreenOn.html">setKeepScreenOn</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/brightness/setScreenBrightness.html">setScreenBrightness</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">剪贴板</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/clipboard/getClipboardData.html">getClipboardData</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/clipboard/setClipboardData.html">setClipboardData</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">罗盘</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/compass/onCompassChange.html">onCompassChange</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/compass/startCompass.html">startCompass</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/compass/stopCompass.html">stopCompass</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">联系人</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/contacts/addPhoneContact.html">addPhoneContact</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">iBeacon</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ibeacon/getBeacons.html">getBeacons</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ibeacon/onBeaconServiceChange.html">onBeaconServiceChange</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ibeacon/onBeaconUpdate.html">onBeaconUpdate</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ibeacon/startBeaconDiscovery.html">startBeaconDiscovery</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/ibeacon/stopBeaconDiscovery.html">stopBeaconDiscovery</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">网络</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/netstat/getNetworkType.html">getNetworkType</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/netstat/onNetworkStatusChange.html">onNetworkStatusChange</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">NFC</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/nfc/getHCEState.html">getHCEState</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/nfc/onHCEMessage.html">onHCEMessage</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/nfc/sendHCEMessage.html">sendHCEMessage</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/nfc/startHCE.html">startHCE</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/nfc/stopHCE.html">stopHCE</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">电话</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/phone/makePhoneCall.html">makePhoneCall</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">扫码</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/scancode/scancode.html">scanCode</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">屏幕</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/screenshot/onUserCaptureScreen.html">onUserCaptureScreen</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">振动</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/vibrate/vibrateLong.html">vibrateLong</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/vibrate/vibrateShort.html">vibrateShort</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">系统信息</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/systeminfo/canIUse.html">canIUse</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/systeminfo/getSystemInfo.html">getSystemInfo</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/systeminfo/getSystemInfoSync.html">getSystemInfoSync</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Wi-Fi</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/wifi/connectWifi.html">connectWifi</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/wifi/getConnectedWifi.html">getConnectedWifi</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/wifi/getWifiList.html">getWifiList</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/wifi/onGetWifiList.html">onGetWifiList</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/wifi/onWifiConnected.html">onWifiConnected</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/wifi/setWifiList.html">setWifiList</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/wifi/startWifi.html">startWifi</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/device/wifi/stopWifi.html">stopWifi</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">扩展API<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/apis/extend-apis/arrayBufferToBase64.html">arrayBufferToBase64</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/extend-apis/base64ToArrayBuffer.html">base64ToArrayBuffer</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">文件<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/apis/files/getFileInfo.html">getFileInfo</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/files/getSavedFileInfo.html">getSavedFileInfo</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/files/getSavedFileList.html">getSavedFileList</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/files/openDocument.html">openDocument</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/files/removeSavedFile.html">removeSavedFile</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/files/saveFile.html">saveFile</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">界面<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">动画</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/animation/createAnimation.html">createAnimation</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">画布</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/canvas/createCanvasContext.html">createCanvasContext</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/canvas/canvasGetImageData.html">canvasGetImageData</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/canvas/canvasPutImageData.html">canvasPutImageData</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/canvas/canvasToTempFilePath.html">canvasToTempFilePath</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/canvas/createContext.html">createContext</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/canvas/drawCanvas.html">drawCanvas</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">交互</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/interactives/showToast.html">showToast</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/interactives/showLoading.html">showLoading</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/interactives/hideToast.html">hideToast</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/interactives/hideLoading.html">hideLoading</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/interactives/showModal.html">showModal</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/interactives/showActionSheet.html">showActionSheet</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">导航</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/navigation/navigateTo.html">navigateTo</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/navigation/redirectTo.html">redirectTo</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/navigation/switchTab.html">switchTab</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/navigation/navigateBack.html">navigateBack</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/navigation/reLaunch.html">reLaunch</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/navigation/getCurrentPages.html">getCurrentPages</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">导航栏</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/navigationbar/setNavigationBarTitle.html">setNavigationBarTitle</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/navigationbar/showNavigationBarLoading.html">showNavigationBarLoading</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/navigationbar/hideNavigationBarLoading.html">hideNavigationBarLoading</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/navigationbar/setNavigationBarColor.html">setNavigationBarColor</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">滚动</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/pagescroll/pageScrollTo.html">pageScrollTo</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">下拉刷新</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/pulldownrefresh/startPullDownRefresh.html">startPullDownRefresh</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/pulldownrefresh/stopPullDownRefresh.html">stopPullDownRefresh</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">tabbar</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/tabbar/setTabBarBadge.html">setTabBarBadge</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/tabbar/removeTabBarBadge.html">removeTabBarBadge</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/tabbar/showTabBarRedDot.html">showTabBarRedDot</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/tabbar/hideTabBarRedDot.html">hideTabBarRedDot</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/tabbar/setTabBarStyle.html">setTabBarStyle</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/tabbar/setTabBarItem.html">setTabBarItem</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/tabbar/showTabBar.html">showTabBar</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/tabbar/hideTabBar.html">hideTabBar</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">顶栏</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/topbar/setTopBarText.html">setTopBarText</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">窗口</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/window/onWindowResize.html">onWindowResize</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/window/offWindowResize.html">offWindowResize</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">wxml</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/wxml/createSelectorQuery.html">createSelectorQuery</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/wxml/selectorQuery_in.html">selectorQuery.in</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/wxml/selectorQuery_select.html">selectorQuery.select</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/wxml/selectorQuery_selectAll.html">selectorQuery.selectAll</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/wxml/selectorQuery_selectViewport.html">selectorQuery.selectViewport</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/wxml/nodesRef_boundingClientRect.html">nodesRef.boundingClientRect</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/wxml/nodesRef_scrollOffset.html">nodesRef.scrollOffset</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/wxml/nodesRef_fields.html">nodesRef.fields</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/interface/wxml/selectorQuery_exec.html">selectorQuery.exec</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">位置<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/apis/location/getLocation.html">getLocation</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/location/openLocation.html">openLocation</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/location/chooseLocation.html">chooseLocation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">媒体<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">音频</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/audio/playVoice.html">playVoice</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/audio/pauseVoice.html">pauseVoice</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/audio/stopVoice.html">stopVoice</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/audio/createAudioContext.html">createAudioContext</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/audio/createInnerAudioContext.html">createInnerAudioContext</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">背景音频</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/backgroundaudio/getBackgroundAudioManager.html">getBackgroundAudioManager</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/backgroundaudio/getBackgroundAudioPlayerState.html">getBackgroundAudioPlayerState</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/backgroundaudio/playBackgroundAudio.html">playBackgroundAudio</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/backgroundaudio/pauseBackgroundAudio.html">pauseBackgroundAudio</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/backgroundaudio/seekBackgroundAudio.html">seekBackgroundAudio</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/backgroundaudio/stopBackgroundAudio.html">stopBackgroundAudio</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/backgroundaudio/onBackgroundAudioPlay.html">onBackgroundAudioPlay</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/backgroundaudio/onBackgroundAudioPause.html">onBackgroundAudioPause</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/backgroundaudio/onBackgroundAudioStop.html">onBackgroundAudioStop</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">相机</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/camera/createCameraContext.html">createCameraContext</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">图片</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/images/chooseImage.html">chooseImage</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/images/previewImage.html">previewImage</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/images/getImageInfo.html">getImageInfo</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/images/saveImageToPhotosAlbum.html">saveImageToPhotosAlbum</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">地图</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/map/createMapContext.html">createMapContext</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">录音</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/recording/startRecord.html">startRecord</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/recording/stopRecord.html">stopRecord</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">视频</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/video/chooseVideo.html">chooseVideo</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/video/saveVideoToPhotosAlbum.html">saveVideoToPhotosAlbum</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/multimedia/video/createVideoContext.html">createVideoContext</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">网络<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">文件上传/下载</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/fileTransfer/uploadFile.html">uploadFile</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/fileTransfer/downloadFile.html">downloadFile</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">请求</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/request/request.html">request</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/request/addInterceptor.html">addInterceptor</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">WebSocket</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/socket/connectSocket.html">connectSocket</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/socket/sendSocketMessage.html">sendSocketMessage</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/socket/closeSocket.html">closeSocket</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/socket/onSocketOpen.html">onSocketOpen</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/socket/onSocketMessage.html">onSocketMessage</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/socket/onSocketClose.html">onSocketClose</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/socket/onSocketError.html">onSocketError</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/network/socket/SocketTask.html">SocketTask</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">开放接口<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">地址</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/address/chooseAddress.html">chooseAddress</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">认证</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/auth/authorize.html">authorize</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">生物认证</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/bioauth/checkIsSoterEnrolledInDevice.html">checkIsSoterEnrolledInDevice</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/bioauth/checkIsSupportSoterAuthentication.html">checkIsSupportSoterAuthentication</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/bioauth/startSoterAuthentication.html">startSoterAuthentication</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">卡券</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/card/addCard.html">addCard</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/card/openCard.html">openCard</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">发票</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/invoice/chooseInvoice.html">chooseInvoice</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/invoice/chooseInvoiceTitle.html">chooseInvoiceTitle</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">登录</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/login/login.html">login</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/login/checkSession.html">checkSession</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">支付</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/payment/faceVerifyForPay.html">faceVerifyForPay</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/payment/requestPayment.html">requestPayment</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">跳转小程序</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/redirect/navigateBackMiniProgram.html">navigateBackMiniProgram</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/redirect/navigateToMiniProgram.html">navigateToMiniProgram</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">设置</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/settings/getSetting.html">getSetting</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/settings/openSetting.html">openSetting</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">用户信息</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/userinfo/getUserInfo.html">getUserInfo</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">微信运动</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/apis/open-api/werun/getWeRunData.html">getWeRunData</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">数据缓存<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/apis/storage/setStorage.html">setStorage</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/storage/setStorageSync.html">setStorageSync</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/storage/getStorage.html">getStorage</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/storage/getStorageSync.html">getStorageSync</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/storage/getStorageInfo.html">getStorageInfo</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/storage/getStorageInfoSync.html">getStorageInfoSync</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/storage/removeStorage.html">removeStorage</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/storage/removeStorageSync.html">removeStorageSync</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/storage/clearStorage.html">clearStorage</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/apis/storage/clearStorageSync.html">clearStorageSync</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">更新<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/apis/updates/getUpdateManager.html">getUpdateManager</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/nervjs/taro/edit/master/docs/apis/about/tarocomponent.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Taro.Component</h1></header><article><div><span><p><code>Taro.Component</code> 是一个抽象基础类，因此直接引用 <code>Taro.Component</code> 几乎没意义。相反，你通常会继承自它，并至少定义一个 <code>render()</code> 方法。</p>
<p>通常你定义一个 <code>Taro</code> 组件相当于一个纯 <code>JavaScript</code> 类：</p>
<pre><code class="hljs css language-jsx"><span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<blockquote>
<p>这里 Taro 和 React 不一样的地方在于没有暴露出一个 <code>createClass</code> 的方法，你只能用 ES6 的 class 类来创建 Taro 组件。</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="组件生命周期"></a><a href="#组件生命周期" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>组件生命周期</h2>
<p>每一个组件都有几个你可以重写以让代码在处理环节的特定时期运行的“生命周期方法”。方法中带有前缀 <code>will</code> 的在特定环节之前被调用，而带有前缀 <code>did</code> 的方法则会在特定环节之后被调用。</p>
<h4><a class="anchor" aria-hidden="true" id="装载mounting"></a><a href="#装载mounting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>装载(Mounting)</h4>
<p>这些方法会在组件实例被创建和插入 DOM 中时被调用：</p>
<ul>
<li><code>constructor()</code></li>
<li><code>componentWillMount()</code></li>
<li><code>render()</code></li>
<li><code>componentDidMount()</code></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="更新updating"></a><a href="#更新updating" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>更新(Updating)</h4>
<p>属性或状态的改变会触发一次更新。当一个组件在被重新渲染时，这些方法将会被调用：</p>
<ul>
<li><code>componentWillReceiveProps()</code></li>
<li><code>shouldComponentUpdate()</code></li>
<li><code>componentWillUpdate()</code></li>
<li><code>render()</code></li>
<li><code>componentDidUpdate()</code></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="卸载unmounting"></a><a href="#卸载unmounting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>卸载(Unmounting)</h4>
<p>当一个组件被从 DOM 中移除时，该方法被调用：</p>
<ul>
<li><code>componentWillUnmount()</code></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="其他-api"></a><a href="#其他-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他 API</h4>
<p>每一个组件还提供了其他的 API：</p>
<ul>
<li><code>setState()</code></li>
<li><code>forceUpdate()</code></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="类属性"></a><a href="#类属性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>类属性</h4>
<ul>
<li><code>defaultProps</code></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="实例属性"></a><a href="#实例属性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实例属性</h4>
<ul>
<li><code>props</code></li>
<li><code>state</code></li>
<li><code>config</code>（小程序专属）</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="参考"></a><a href="#参考" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>参考</h2>
<h3><a class="anchor" aria-hidden="true" id="render"></a><a href="#render" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>render()</h3>
<p><code>render()</code> 方法是必须的。</p>
<p>当被调用时，<code>render</code> 方法必须返回一个 Taro 组件（可以是内置组件也可以是自定义组件）或一个 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy">falsy</a> 的值。</p>
<p><code>render()</code> 函数应该纯净，意味着其不应该改变组件的状态，其每次调用都应返回相同的结果，同时不直接和浏览器/小程序交互。若需要和浏览器/小程序交互，将任务放在<code>componentDidMount()</code> 阶段或其他的生命周期方法。保持 <code>render()</code> 方法纯净使得组件更容易思考。</p>
<blockquote>
<p>在 React/Nerv 中，<code>render()</code> 可以返回多种数据结构，但 Taro 暂时只支持两种。因为 Taro 必须把 JSX  编译成微信小程序模板。当 return 的值为 <code>falsy</code> 时，实际上会编译成小程序的  <code>wx:if</code> 标签。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="constructor"></a><a href="#constructor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>constructor()</h3>
<pre><code class="hljs css language-jsx"><span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
</code></pre>
<p>Taro 组件的构造函数将会在装配之前被调用。当为一个 <code>Taro.Component</code> 子类定义构造函数时，你应该在任何其他的表达式之前调用 <code>super(props)</code>。否则，this.props 在构造函数中将是未定义，并可能引发异常。</p>
<p>构造函数是初始化状态的合适位置。若你不初始化状态且不绑定方法，那你也不需要为你的 Taro 组件定义一个构造函数。</p>
<blockquote>
<p>在 Taro 中，即便你不写 constructor()，编译到微信小程序时也会自动给你加上，因为 Taro 运行时框架需要在 constructor() 中多做一些事情。</p>
</blockquote>
<p>可以基于属性来初始化状态。这样有效地“分离（forks）”属性并根据初始属性设置状态。</p>
<h3><a class="anchor" aria-hidden="true" id="static-getderivedstatefromprops"></a><a href="#static-getderivedstatefromprops" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>static getDerivedStateFromProps()</code></h3>
<blockquote>
<p>自 v1.3.0 起可用</p>
</blockquote>
<pre><code class="hljs css language-jsx"><span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> state<span class="token punctuation">)</span>
</code></pre>
<p><code>getDerivedStateFromProps</code> 会在调用 render 方法之前调用，并且在初始挂载及后续更新时都会被调用。它应返回一个对象来更新 state，如果返回 null 则不更新任何内容。</p>
<p>此方法无权访问组件实例（this）。如果你需要，可以通过提取组件 props 的纯函数及 class 之外的状态，在 <code>getDerivedStateFromProps()</code> 和其他 class 方法之间重用代码。</p>
<p>和 <code>componentWillReceiveProps</code> 不同，<code>getDerivedStateFromProps</code> 会在每次 <code>render</code> 前触发此方法，而 <code>componentWillReceiveProps</code> 会在父组件重新渲染时调用。</p>
<pre><code class="hljs css language-jsx"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ButtonSelectable</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
    selected<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">,</span>
    onClick<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      isSelected<span class="token punctuation">:</span> props<span class="token punctuation">.</span>selected
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>selected <span class="token operator">!==</span> state<span class="token punctuation">.</span>isSelected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        isSelected<span class="token punctuation">:</span> props<span class="token punctuation">.</span>selected
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      isSelected<span class="token punctuation">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isSelected
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
        <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">B-selectable </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isSelected <span class="token operator">?</span> <span class="token string">"button-selectable-selected"</span> <span class="token punctuation">:</span> <span class="token string">""</span>
        <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span></span>
      <span class="token punctuation">></span></span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isSelected <span class="token operator">?</span> <span class="token string">"Selected!"</span> <span class="token punctuation">:</span> <span class="token string">"Not selected..."</span><span class="token punctuation">}</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<blockquote>
<p>请注意：
getDerivedStateFromProps() 如果存在，<code>componentWillReceiveProps</code>、<code>componentWillMount</code> 和 <code>componentWillUpdate</code> 将不会调用。
当你需要在以上老生命周期 setState 时，我们更推荐你使用 getDerivedStateFromProps 方法，因为它能减少一次更新开销。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="getsnapshotbeforeupdate"></a><a href="#getsnapshotbeforeupdate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getSnapshotBeforeUpdate()</h3>
<blockquote>
<p>自 v1.3.0 起可用</p>
</blockquote>
<pre><code class="hljs css language-jsx"><span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span>
</code></pre>
<p><code>getSnapshotBeforeUpdate()</code> 在最近一次渲染输出（提交到 DOM 节点）之前调用。它使得组件能在发生更改之前从 DOM 中捕获一些信息（例如，滚动位置）。此生命周期的任何返回值将作为参数传递给 <code>componentDidUpdate()</code>。</p>
<p>应返回 snapshot 的值（或 null）。</p>
<blockquote>
<p>请注意：
getSnapshotBeforeUpdate() 如果存在，<code>componentWillReceiveProps</code>、<code>componentWillMount</code> 和 <code>componentWillUpdate</code> 将不会调用。
当你需要在以上老生命周期 setState 时，我们更推荐你使用 <code>getSnapshotBeforeUpdate</code> 方法，因为它能减少一次更新开销。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="componentwillmount"></a><a href="#componentwillmount" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>componentWillMount()</h3>
<pre><code class="hljs css language-jsx"><span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><code>componentWillMount()</code> 在组件在装载发生前被立刻调用。</p>
<p>避免在该方法中引入任何的副作用或订阅。对于这些使用场景，我们推荐使用 constructor() 来替代。</p>
<p>这是唯一的会在服务端渲染调起的生命周期钩子函数。</p>
<blockquote>
<p>componentWillMount() 在小程序里对应的生命周期是 <code>onLoad</code></p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="componentdidmount"></a><a href="#componentdidmount" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>componentDidMount()</h3>
<pre><code class="hljs css language-jsx"><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>componentDidMount() 在组件被装载后立即调用。初始化使得 DOM 节点应该进行到这里。若你需要从远端加载数据，这是一个适合实现网络请求的地方。在该方法里 <code>setState()</code> 将会触发重新渲染。</p>
<h3><a class="anchor" aria-hidden="true" id="componentwillreceiveprops"></a><a href="#componentwillreceiveprops" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>componentWillReceiveProps()</h3>
<pre><code class="hljs css language-jsx"><span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span>
</code></pre>
<p><code>componentWillReceiveProps()</code> 在已经装载的组件接收到新属性前调用。若你需要更新状态响应属性改变，你可能需对比 <code>this.props</code> 和 <code>nextProps</code> 并在该方法中使用 <code>this.setState()</code> 处理状态改变。</p>
<p>注意即使属性未有任何改变，Taro 可能也会调用该方法，因此若你想要处理改变，请确保比较当前和之后的值。</p>
<p>在装载期间，Taro 并不会调用带有初始属性的 <code>componentWillReceiveProps</code>方法。调用 <code>this.setState</code> 通常不会触发 <code>componentWillReceiveProps</code>。</p>
<h3><a class="anchor" aria-hidden="true" id="shouldcomponentupdate"></a><a href="#shouldcomponentupdate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>shouldComponentUpdate()</h3>
<pre><code class="hljs css language-jsx"><span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> nextState<span class="token punctuation">)</span>
</code></pre>
<p>使用 <code>shouldComponentUpdate()</code> 让 Taro 知道组件的输出是否不受 state 或 props 当前变化的影响。 默认行为是在每次 state 更改时重新渲染，并且在绝大多数情况下，你应该依赖于默认行为。</p>
<p>当接收到新的 props 或 state 时，<code>shouldComponentUpdate()</code> 在渲染之前被调用。 默认返回 true ，对于初始(第一次)渲染 或 使用 <code>forceUpdate()</code> 时，不调用此方法。</p>
<p>返回 <code>false</code> 不会阻止子组件在 state 更改时重新渲染。</p>
<h3><a class="anchor" aria-hidden="true" id="componentwillupdate"></a><a href="#componentwillupdate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>componentWillUpdate()</h3>
<pre><code class="hljs css language-jsx"><span class="token function">componentWillUpdate</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> nextState<span class="token punctuation">)</span>
</code></pre>
<p>当接收到新的 props 或 state 时，<code>componentWillUpdate()</code> 在渲染之前立即被调用。在更新发生之前，使用这个方法可以作为执行准备更新的一个好机会。这个方法在第一次渲染时不会被调用。</p>
<p>注意，这里不能调用 <code>this.setState()</code> 。 如果你需要更新 state 以响应 props 更改，请改用 <code>componentWillReceiveProps()</code>。</p>
<p>如果你需要更新 state 来响应 props 的改变，可以使用 <code>componentWillReceiveProps()</code> 代替。</p>
<h3><a class="anchor" aria-hidden="true" id="componentdidupdate"></a><a href="#componentdidupdate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>componentDidUpdate()</h3>
<pre><code class="hljs css language-jsx"><span class="token function">componentDidUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span>
</code></pre>
<p><code>componentDidUpdate()</code>  在更新发生后立即被调用。 这个方法在第一次渲染时不会被调用。</p>
<h3><a class="anchor" aria-hidden="true" id="componentwillunmount"></a><a href="#componentwillunmount" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>componentWillUnmount()</h3>
<pre><code class="hljs css language-jsx"><span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><code>componentWillUnmount()</code> 在一个组件被 卸载(unmounted) 和 销毁(destroyed) 之前立即被调用。 在此方法中执行任何必要的清理，例如使计时器无效，取消网络请求，清除一些可能会造成内存泄露的事件等。</p>
<blockquote>
<p>在小程序中，一个挂在到 <code>Page</code>  组件的组件并不会执行 <code>componentWillUnmount()</code> 方法，只有当他挂载的 Page 组件被销毁时，该组件才会执行 <code>componentWillUnmount()</code>  方法。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="setstate"></a><a href="#setstate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>setState()</h3>
<h2><a class="anchor" aria-hidden="true" id="类属性-1"></a><a href="#类属性-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>类属性</h2>
<h3><a class="anchor" aria-hidden="true" id="defaultprops"></a><a href="#defaultprops" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>defaultProps</h3>
<p><code>defaultProps</code> 可以被定义为组件类的一个属性，用以为类设置默认的属性。这对于未定义（undefined）的属性来说有用，而对于设为空（null）的属性并没用。例如：</p>
<pre><code class="hljs css language-jsx"><span class="token keyword">class</span> <span class="token class-name">CustomButton</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

CustomButton<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  color<span class="token punctuation">:</span> <span class="token string">'blue'</span>
<span class="token punctuation">}</span>
</code></pre>
<p>若未设置 <code>props.color</code>，其将被设置默认为 'blue':</p>
<pre><code class="hljs css language-jsx"><span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CustomButton</span></span> <span class="token punctuation">/></span></span> <span class="token comment">// props.color will be set to blue</span>
<span class="token punctuation">}</span>
</code></pre>
<p>若 props.color 设为 null，则其值则为 null：</p>
<pre><code class="hljs css language-jsx"><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CustomButton</span></span> <span class="token attr-name">color</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">null</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>  <span class="token comment">// props.color will remain null</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="实例属性-1"></a><a href="#实例属性-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实例属性</h2>
<h3><a class="anchor" aria-hidden="true" id="props"></a><a href="#props" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>props</h3>
<p><code>this.props</code> 包含了组件该调用者定义的属性。查看 <a href="./props.md">组件 &amp; Props</a> 关于属性的介绍。</p>
<h3><a class="anchor" aria-hidden="true" id="state"></a><a href="#state" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>state</h3>
<p>状态是该组件的特定数据，其可能改变多次。状态由用户定义，且其应为纯 JavaScript 对象。</p>
<p>若你不在 <code>render()</code> 方法中使用它，那它就不应该被放在 state 中。例如，你可直接将 timer IDs 放在实例上。</p>
<p>查看 <a href="./state.md">生命周期 &amp; State</a> 了解更多关于状态的信息。</p>
<p>永远不要直接改变 <code>this.state</code>，因为调用 <code>setState()</code> 会替换你之前做的改变。将 <code>this.state</code> 当成不可变的。</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/taro/docs/apis/about/desc.html"><span class="arrow-prev">← </span><span>API 说明</span></a><a class="docs-next button" href="/taro/docs/apis/about/env.html"><span>环境判断</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#组件生命周期">组件生命周期</a></li><li><a href="#参考">参考</a><ul class="toc-headings"><li><a href="#render">render()</a></li><li><a href="#constructor">constructor()</a></li><li><a href="#static-getderivedstatefromprops"><code>static getDerivedStateFromProps()</code></a></li><li><a href="#getsnapshotbeforeupdate">getSnapshotBeforeUpdate()</a></li><li><a href="#componentwillmount">componentWillMount()</a></li><li><a href="#componentdidmount">componentDidMount()</a></li><li><a href="#componentwillreceiveprops">componentWillReceiveProps()</a></li><li><a href="#shouldcomponentupdate">shouldComponentUpdate()</a></li><li><a href="#componentwillupdate">componentWillUpdate()</a></li><li><a href="#componentdidupdate">componentDidUpdate()</a></li><li><a href="#componentwillunmount">componentWillUnmount()</a></li><li><a href="#setstate">setState()</a></li></ul></li><li><a href="#类属性-1">类属性</a><ul class="toc-headings"><li><a href="#defaultprops">defaultProps</a></li></ul></li><li><a href="#实例属性-1">实例属性</a><ul class="toc-headings"><li><a href="#props">props</a></li><li><a href="#state">state</a></li></ul></li></ul></nav></div><footer class="footer" id="footer"><div class="grid_c1 footer_cont"><div class="footer_logo_container"><div class="footer_logo"></div><span class="footer_designedby"></span></div><div class="footer_link_container"><div class="footer_link"><h3 class="footer_link_tit footer_link_tit1">相关资源</h3><p><a class="link" href="https://taro.jd.com/" target="_blank">Taro</a></p><p><a class="link" href="https://taro-ui.jd.com/" target="_blank">Taro UI</a></p><p><a class="link" href="https://at-ui.github.io/at-ui/#/zh" target="_blank">At-UI</a></p><p><a class="link" href="https://nerv.aotu.io/" target="_blank">Nerv</a></p><p><a class="link" href="https://athena.aotu.io/" target="_blank">Athena</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit2">社区</h3><p><a href="https://github.com/NervJS/taro/issues" target="_blank">GitHub</a></p><p><a href="https://taro-club.jd.com" target="_blank">Taro BBS</a></p><p class="footer_link_connect_wrap"><span class="footer_link_connect footer_link_wechat">微信<span class="wechat_qrcode_icon"><svg t="1554966525626" class="icon svgicon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2588" data-spm-anchor-id="a313x.7781069.0.i0"><path d="M240.071 241.095h59.278v59.278h-59.278v-59.278z" fill="" p-id="2589"></path><path d="M405.959 134.485h-272.611v272.611h106.723v47.445h59.278v-47.445h106.723v-59.278h47.445v-47.445h-47.445l-0.114-165.888zM346.795 347.819h-154.169v-154.055h154.055v154.055h0.114zM240.071 727.154h59.278v59.278h-59.278v-59.278zM726.016 241.095h59.278v59.278h-59.278v-59.278zM512.683 509.042v63.943h59.278v-59.165h47.445v-59.278h-47.445v-47.445h-59.278v101.945zM512.683 725.789v60.643h59.278v-106.723h47.445v-59.278h-106.723v105.358zM571.961 786.432h47.445v47.445h-47.445v-47.445zM453.405 833.877v59.165h118.557v-59.165h-118.557z" fill="" p-id="2590"></path><path d="M678.685 679.709h-59.278v106.723h106.61v-59.278h-47.331v-47.445zM726.016 893.042h166.002v-59.165h-106.723v-47.445h-59.278v106.61zM892.018 513.821v-59.278h-106.723v59.278h106.723zM832.739 727.154h59.278v59.278h-59.278v-59.278zM453.405 347.819h59.278v59.278h-59.278v-59.278zM726.016 454.542v-47.445h166.002v-272.611h-272.611v59.278h-106.723v47.445h106.723v59.165h-47.445v47.445h47.445v59.278h59.278v47.445h47.331zM678.685 193.763h154.055v154.055h-154.055v-154.055zM678.685 572.985h47.331v47.445h-47.331v-47.445zM785.294 679.709h-59.278v47.445h106.723v-106.723h59.278v-47.445h-106.723v106.723zM453.405 241.095h59.278v59.278h-59.278v-59.278zM299.349 513.821h47.445v59.165h-47.445v-59.165zM453.405 454.542h-106.61v59.278h59.165v59.165h47.445v-118.443z" fill="" p-id="2591"></path><path d="M405.959 786.432v-106.723h47.445v-59.278h-213.333v-106.61h-106.723v59.278h59.278v47.445h-59.278v272.611h272.611v-59.278h47.445v-47.445h-47.445zM346.795 833.877h-154.169v-154.169h154.055v154.169h0.114zM453.405 572.985h59.278v47.445h-59.278v-47.445zM619.406 513.821h59.278v59.165h-59.278v-59.165zM726.016 513.821h59.278v59.165h-59.278v-59.165z" fill="" p-id="2592"></path></svg></span></span><span class="footer_link_wechat_img"><img src="https://camo.githubusercontent.com/10834a234b99a5880b5dff7c0ca7235e2a0772e7/687474703a2f2f696d6732302e333630627579696d672e636f6d2f7562612f6a66732f7432303139372f3238332f313638373136383837342f3133363034322f32623464383131662f35623330613635634e39643166303366312e706e67"/></span></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit3">关于我们</h3><p><a href="https://aotu.io/" target="_blank">凹凸实验室</a></p><p><a href="https://aotu.io/join/" target="_blank">加入我们</a></p><p><a href="mailto:taro@jd.com?subject=【Taro 合作】合作标题">联系我们</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit4">感谢</h3><p><a href="http://jdc.jd.com/" target="_blank">用户体验设计部</a></p><p><a href="https://github.com/nervjs/taro#%E8%B4%A1%E7%8C%AE%E8%80%85%E4%BB%AC" target="_blank">Taro 贡献者们</a></p></div></div></div><div class="copyright"><div class="in">Copyright © 2019. All Rights Reserved. 粤ICP备15077732号-2</div></div></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '57b9948bff42bc0dbc6c219556fbae35',
                indexName: 'taro',
                inputSelector: '#search_input_react'
              });
            </script></body></html>